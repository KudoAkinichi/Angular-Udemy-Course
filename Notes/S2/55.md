# Using Form Submission Data in Angular

Let's update the components to handle new task creation with proper typing and data flow.

## 1. Create Task Model Types

First, let's define our interfaces in `task.model.ts`:

````typescript
export interface Task {
  id: string;
  userId: string;
  title: string;
  summary: string;
  dueDate: string;
}

export interface NewTaskData {
  title: string;
  summary: string;
  date: string;
}
````

## 2. Update Tasks Component

Add method to handle new task creation:

````typescript
import { NewTaskData } from './task/task.model';

// ...existing code...

export class TasksComponent {
  // ...existing code...

  onAddTask(taskData: NewTaskData) {
    this.tasks.unshift({
      id: new Date().getTime().toString(),
      userId: this.userId,
      title: taskData.title,
      summary: taskData.summary,
      dueDate: taskData.date,
    });
    this.isAddingTask = false;
  }
}
````

## 3. Update Tasks Component Template

````html
<app-new-task 
  *ngIf="isAddingTask"
  (cancel)="onCancelAdd()"
  (add)="onAddTask($event)">
</app-new-task>
````

## 4. Verify New Task Component

The current implementation looks good:

```typescript
// NewTaskComponent already has:
@Output() add = new EventEmitter<NewTaskData>();

onSubmit() {
  this.add.emit({
    title: this.enteredTitle,
    summary: this.enteredSummary,
    date: this.enteredDate,
  });
}
```

## Key Implementation Details

1. **Type Safety**
   - Shared interfaces for task data
   - Typed EventEmitter for form submission
   - Consistent data structure across components

2. **Data Flow**
   - Child component emits form data
   - Parent component handles task creation
   - Automatic UI updates via two-way binding

3. **Task Management**
   - Generate unique IDs for new tasks
   - Associate tasks with current user
   - Add tasks to beginning of list
   - Close dialog after submission

## Testing Steps

1. Select a user
2. Click "Add Task"
3. Fill in the form fields
4. Click "Create"
5. Verify:
   - Dialog closes
   - New task appears in list
   - Task is associated with correct user
